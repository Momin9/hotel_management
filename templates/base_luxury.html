{% load static %}
<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Luxury Hotel Management{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        luxury: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            200: '#e2e8f0',
                            300: '#cbd5e1',
                            400: '#94a3b8',
                            500: '#64748b',
                            600: '#475569',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        gold: {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            200: '#fde68a',
                            300: '#fcd34d',
                            400: '#fbbf24',
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309',
                            800: '#92400e',
                            900: '#78350f',
                        },
                        royal: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'pulse-slow': 'pulse 3s infinite',
                        'bounce-gentle': 'bounceGentle 2s infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(100%)' },
                            '100%': { transform: 'translateY(0)' },
                        },
                        bounceGentle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        }
                    },
                    backdropBlur: {
                        xs: '2px',
                    }
                }
            }
        }
    </script>
    <style>
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .luxury-shadow {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        .hover-lift {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .hover-lift:hover {
            transform: translateY(-8px);
            box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.35);
        }
    </style>
</head>
<body class="h-full bg-gradient-to-br from-luxury-50 via-white to-royal-50 font-sans">
    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-effect">
        <div class="w-full px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <a href="{% if not user.is_authenticated or request.resolver_match.url_name == 'landing' or request.resolver_match.url_name == 'about' %}{% url 'accounts:landing' %}{% else %}{% url 'accounts:dashboard' %}{% endif %}" class="flex items-center hover:opacity-80 transition-opacity">
                    <img src="{% if footer.company_logo %}{{ footer.company_logo.url }}{% else %}{% static 'images/logo/aurastay-logo.png' %}{% endif %}" alt="{{ footer.company_name|default:'AuraStay' }} Logo" style="width: 120px; height: 120px;" class="object-contain">
                </a>

                <!-- Navigation Links -->
                <div class="hidden lg:flex items-center space-x-1 flex-1 justify-center">
                    {% if not user.is_authenticated %}
                        {% if request.resolver_match.url_name == 'landing' %}
                        <a href="#features" class="px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 font-medium">
                            Features
                        </a>
                        <a href="#pricing" class="px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 font-medium">
                            Pricing
                        </a>
                        <a href="{% url 'accounts:about' %}" class="px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 font-medium">
                            About Us
                        </a>
                        {% elif request.resolver_match.url_name == 'about' %}
                        <a href="{% url 'accounts:landing' %}" class="px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 font-medium">
                            Home
                        </a>
                        {% endif %}
                        <a href="{% url 'accounts:login' %}" class="px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 font-medium">
                            Login
                        </a>
                        <a href="#contact" class="bg-gradient-to-r from-royal-500 to-royal-600 text-white px-6 py-2 rounded-xl font-semibold hover:from-royal-600 hover:to-royal-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                            Start Free Trial
                        </a>
                    {% else %}
                    {% if user.is_superuser %}
                    <a href="{% url 'accounts:hotel_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                        <i class="fas fa-building mr-2 group-hover:scale-110 transition-transform"></i>
                        <span class="font-medium">Hotels</span>
                    </a>
                    <a href="{% url 'accounts:hotel_subscription_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                        <i class="fas fa-file-contract mr-2 group-hover:scale-110 transition-transform"></i>
                        <span class="font-medium">Subscriptions</span>
                    </a>
                    <a href="{% url 'accounts:subscription_plan_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                        <i class="fas fa-credit-card mr-2 group-hover:scale-110 transition-transform"></i>
                        <span class="font-medium">Plans</span>
                    </a>
                    <div class="relative" x-data="{ analyticsOpen: false }">
                        <button @click="analyticsOpen = !analyticsOpen" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-chart-line mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Analytics</span>
                            <i class="fas fa-chevron-down ml-2 transition-transform" :class="{ 'rotate-180': analyticsOpen }"></i>
                        </button>
                        <div x-show="analyticsOpen" @click.away="analyticsOpen = false" x-transition class="absolute top-full left-0 mt-2 w-48 bg-white rounded-xl luxury-shadow py-2 z-50">
                            <a href="{% url 'accounts:analytics_dashboard' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                <i class="fas fa-chart-bar mr-3 text-luxury-500"></i>
                                Dashboard
                            </a>
                            <a href="{% url 'accounts:guests_analytics' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                <i class="fas fa-users mr-3 text-luxury-500"></i>
                                Guests
                            </a>
                            <a href="{% url 'accounts:dining_analytics' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                <i class="fas fa-utensils mr-3 text-luxury-500"></i>
                                Dining
                            </a>
                        </div>
                    </div>
                    {% else %}
                    <!-- Role-based Navigation -->
                    {% if user.role == 'Receptionist' %}
                        <a href="{% url 'accounts:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tachometer-alt mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                        <a href="{% url 'reservations:list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-calendar-check mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Reservations</span>
                        </a>
                        <a href="{% url 'crm:list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-users mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Guests</span>
                        </a>
                        <a href="{% url 'front_desk:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-door-open mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Check-in/out</span>
                        </a>
                        <a href="{% url 'billing:payment_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-credit-card mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Payments</span>
                        </a>
                    {% elif user.role == 'Manager' %}
                        <a href="{% url 'accounts:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tachometer-alt mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                        <a href="{% url 'staff:list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-users mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Staff</span>
                        </a>
                        <a href="{% url 'reservations:list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-calendar-check mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Reservations</span>
                        </a>
                        <a href="{% url 'reporting:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-chart-line mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Reports</span>
                        </a>
                    {% elif user.role == 'Housekeeping' %}
                        <a href="{% url 'accounts:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tachometer-alt mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                        <div class="relative" x-data="{ roomsOpen: false }">
                            <button @click="roomsOpen = !roomsOpen" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                                <i class="fas fa-bed mr-2 group-hover:scale-110 transition-transform"></i>
                                <span class="font-medium">Rooms</span>
                                <i class="fas fa-chevron-down ml-2 transition-transform" :class="{ 'rotate-180': roomsOpen }"></i>
                            </button>
                            <div x-show="roomsOpen" @click.away="roomsOpen = false" x-transition class="absolute top-full left-0 mt-2 w-48 bg-white rounded-xl luxury-shadow py-2 z-50">
                                <a href="{% url 'housekeeping:room_status_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-list mr-3 text-luxury-500"></i>
                                    List View
                                </a>
                                <a href="{% url 'housekeeping:room_status_list' %}?view=kanban" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-th-large mr-3 text-luxury-500"></i>
                                    Kanban View
                                </a>
                            </div>
                        </div>
                        <a href="{% url 'housekeeping:task_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-broom mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Tasks</span>
                        </a>
                        <a href="{% url 'housekeeping:schedule_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-calendar mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Schedules</span>
                        </a>
                        <a href="{% url 'housekeeping:room_assignments' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-clipboard-list mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Assignments</span>
                        </a>
                    {% elif user.role == 'Maintenance' %}
                        <a href="{% url 'maintenance:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tachometer-alt mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                        <a href="{% url 'maintenance:issue_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tools mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Requests</span>
                        </a>
                        <a href="{% url 'hotels:room_list' user.assigned_hotel.hotel_id %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-bed mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Rooms</span>
                        </a>
                    {% elif user.role == 'Staff' %}
                        <a href="{% url 'housekeeping:task_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-calendar mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">My Schedule</span>
                        </a>
                        <a href="{% url 'housekeeping:task_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tasks mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">My Tasks</span>
                        </a>
                        <a href="#" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-paper-plane mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Submit Request</span>
                        </a>
                    {% elif user.role == 'Accountant' %}
                        <a href="{% url 'accounts:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tachometer-alt mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                        <div class="relative" x-data="{ financeOpen: false }">
                            <button @click="financeOpen = !financeOpen" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                                <i class="fas fa-dollar-sign mr-2 group-hover:scale-110 transition-transform"></i>
                                <span class="font-medium">Finance</span>
                                <i class="fas fa-chevron-down ml-2 transition-transform" :class="{ 'rotate-180': financeOpen }"></i>
                            </button>
                            <div x-show="financeOpen" @click.away="financeOpen = false" x-transition class="absolute top-full left-0 mt-2 w-52 bg-white rounded-xl luxury-shadow py-2 z-50">
                                <a href="{% url 'finance:expenses' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-receipt mr-3 text-luxury-500"></i>
                                    Hotel Expenses
                                </a>
                                <a href="{% url 'finance:employee_expenses' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-user-tie mr-3 text-luxury-500"></i>
                                    Employee Expenses
                                </a>
                                <a href="{% url 'finance:payroll' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-money-check-alt mr-3 text-luxury-500"></i>
                                    Payroll
                                </a>
                                <a href="{% url 'finance:international' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-globe mr-3 text-luxury-500"></i>
                                    International
                                </a>
                            </div>
                        </div>
                        <a href="{% url 'billing:payment_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-credit-card mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Payments</span>
                        </a>
                        <a href="{% url 'billing:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-file-invoice mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Billing</span>
                        </a>
                        <a href="{% url 'pos:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-cash-register mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">POS</span>
                        </a>
                        <a href="{% url 'finance:reports' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-chart-bar mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Reports</span>
                        </a>
                    {% elif user.role == 'Owner' %}
                        <!-- Owner gets full navigation -->
                        <a href="{% url 'accounts:dashboard' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-tachometer-alt mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Dashboard</span>
                        </a>
                        {% if can_view_hotels %}
                        <a href="{% url 'hotels:hotel_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-building mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Hotels</span>
                        </a>
                        {% endif %}
                        {% if can_view_reservations %}
                        <a href="{% url 'reservations:list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-calendar-check mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Reservations</span>
                        </a>
                        {% endif %}
                        {% if can_view_staff %}
                        <a href="{% url 'staff:list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-users mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Staff</span>
                        </a>
                        {% endif %}
                        <div class="relative" x-data="{ operationsOpen: false }">
                            <button @click="operationsOpen = !operationsOpen" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                                <i class="fas fa-cogs mr-2 group-hover:scale-110 transition-transform"></i>
                                <span class="font-medium">Operations</span>
                                <i class="fas fa-chevron-down ml-2 transition-transform" :class="{ 'rotate-180': operationsOpen }"></i>
                            </button>
                            <div x-show="operationsOpen" @click.away="operationsOpen = false" x-transition class="absolute top-full left-0 mt-2 w-52 bg-white rounded-xl luxury-shadow py-2 z-50">
                                <a href="{% url 'front_desk:dashboard' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-concierge-bell mr-3 text-luxury-500"></i>
                                    Front Desk
                                </a>
                                <a href="{% url 'housekeeping:task_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-broom mr-3 text-luxury-500"></i>
                                    Housekeeping
                                </a>
                                <a href="{% url 'maintenance:issue_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-tools mr-3 text-luxury-500"></i>
                                    Maintenance
                                </a>
                            </div>
                        </div>
                        <div class="relative" x-data="{ financialOpen: false }">
                            <button @click="financialOpen = !financialOpen" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                                <i class="fas fa-dollar-sign mr-2 group-hover:scale-110 transition-transform"></i>
                                <span class="font-medium">Financial</span>
                                <i class="fas fa-chevron-down ml-2 transition-transform" :class="{ 'rotate-180': financialOpen }"></i>
                            </button>
                            <div x-show="financialOpen" @click.away="financialOpen = false" x-transition class="absolute top-full left-0 mt-2 w-48 bg-white rounded-xl luxury-shadow py-2 z-50">
                                <a href="{% url 'billing:dashboard' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-file-invoice mr-3 text-luxury-500"></i>
                                    Billing
                                </a>
                                <a href="{% url 'billing:payment_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-credit-card mr-3 text-luxury-500"></i>
                                    Payments
                                </a>
                                <a href="{% url 'reporting:dashboard' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-chart-bar mr-3 text-luxury-500"></i>
                                    Reports
                                </a>
                            </div>
                        </div>
                        {% if can_view_configurations %}
                        <div class="relative" x-data="{ configOpen: false }">
                            <button @click="configOpen = !configOpen" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                                <i class="fas fa-cog mr-2 group-hover:scale-110 transition-transform"></i>
                                <span class="font-medium">Configuration</span>
                                <i class="fas fa-chevron-down ml-2 transition-transform" :class="{ 'rotate-180': configOpen }"></i>
                            </button>
                            <div x-show="configOpen" @click.away="configOpen = false" x-transition class="absolute top-full left-0 mt-2 w-52 bg-white rounded-xl luxury-shadow py-2 z-50">
                                <a href="{% url 'configurations:room_type_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-bed mr-3 text-luxury-500"></i>
                                    Room Types
                                </a>
                                <a href="{% url 'configurations:bed_type_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-bed mr-3 text-luxury-500"></i>
                                    Bed Types
                                </a>
                                <a href="{% url 'configurations:floor_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-building mr-3 text-luxury-500"></i>
                                    Floors
                                </a>
                                <a href="{% url 'configurations:amenity_list' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-star mr-3 text-luxury-500"></i>
                                    Amenities
                                </a>
                                {% if user.owned_hotels.first %}
                                <a href="{% url 'hotels:service_list' user.owned_hotels.first.hotel_id %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-concierge-bell mr-3 text-luxury-500"></i>
                                    Room Services
                                </a>
                                <a href="{% url 'hotels:company_list' user.owned_hotels.first.hotel_id %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                    <i class="fas fa-handshake mr-3 text-luxury-500"></i>
                                    Company Contracts
                                </a>
                                {% endif %}
                            </div>
                        </div>
                        {% endif %}
                    {% else %}
                        <!-- Staff role gets basic navigation -->
                        <a href="{% url 'housekeeping:task_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-calendar mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">My Schedule</span>
                        </a>
                    <!-- Staff role gets basic navigation -->
                        <a href="{% url 'housekeeping:room_status_list' %}" class="flex items-center px-4 py-2 rounded-xl text-luxury-700 hover:bg-white/20 hover:text-royal-600 transition-all duration-200 group">
                            <i class="fas fa-bed mr-2 group-hover:scale-110 transition-transform"></i>
                            <span class="font-medium">Rooms</span>
                        </a>
                    {% endif %}
                    {% endif %}
                    {% endif %}
                </div>

                <!-- User Menu -->
                {% if user.is_authenticated and request.resolver_match.url_name != 'landing' and request.resolver_match.url_name != 'about' %}
                <div class="flex items-center space-x-4">
                    <!-- Notifications -->
                    <div class="relative" x-data="{ notificationOpen: false }">
                        <button @click="notificationOpen = !notificationOpen" class="relative p-2 text-luxury-600 hover:text-royal-600 transition-colors">
                            <i class="fas fa-bell text-lg"></i>
                            {% if unread_notifications_count > 0 %}
                            <span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs text-white font-bold animate-pulse">{{ unread_notifications_count }}</span>
                            {% endif %}
                        </button>
                        
                        <!-- Notifications Dropdown -->
                        <div x-show="notificationOpen" @click.away="notificationOpen = false" 
                             x-transition:enter="transition ease-out duration-200" 
                             x-transition:enter-start="opacity-0 scale-95" 
                             x-transition:enter-end="opacity-100 scale-100" 
                             x-transition:leave="transition ease-in duration-75" 
                             x-transition:leave-start="opacity-100 scale-100" 
                             x-transition:leave-end="opacity-0 scale-95" 
                             class="absolute right-0 mt-2 w-80 bg-white rounded-2xl luxury-shadow py-2 z-50 max-h-96 overflow-y-auto">
                            
                            <div class="px-4 py-3 border-b border-luxury-200">
                                <h3 class="font-semibold text-luxury-900">Notifications</h3>
                                <p class="text-sm text-luxury-600">You have {{ unread_notifications_count }} unread notifications</p>
                            </div>
                            
                            <!-- Notification Items -->
                            <div class="divide-y divide-luxury-100">
                                {% for notification in user.notifications.all|slice:":5" %}
                                <div class="px-4 py-3 hover:bg-luxury-50 transition-colors cursor-pointer" onclick="markAsRead({{ notification.id }})">
                                    <div class="flex items-start space-x-3">
                                        <div class="w-8 h-8 {% if notification.notification_type == 'system' %}bg-blue-100{% elif 'success' in notification.title.lower %}bg-green-100{% elif 'warning' in notification.title.lower or 'reminder' in notification.title.lower %}bg-yellow-100{% else %}bg-gray-100{% endif %} rounded-full flex items-center justify-center flex-shrink-0">
                                            <i class="fas {% if notification.notification_type == 'system' %}fa-info{% elif 'success' in notification.title.lower %}fa-check{% elif 'warning' in notification.title.lower %}fa-exclamation-triangle{% elif 'user' in notification.title.lower %}fa-user-plus{% else %}fa-bell{% endif %} {% if notification.notification_type == 'system' %}text-blue-600{% elif 'success' in notification.title.lower %}text-green-600{% elif 'warning' in notification.title.lower %}text-yellow-600{% else %}text-gray-600{% endif %} text-sm"></i>
                                        </div>
                                        <div class="flex-1">
                                            <p class="text-sm font-medium text-luxury-900">{{ notification.title }}</p>
                                            <p class="text-xs text-luxury-600">{{ notification.message|truncatechars:60 }}</p>
                                            <p class="text-xs text-luxury-500 mt-1">{{ notification.created_at|timesince }} ago</p>
                                        </div>
                                        {% if notification.status != 'read' %}
                                        <div class="w-2 h-2 bg-blue-500 rounded-full flex-shrink-0"></div>
                                        {% endif %}
                                    </div>
                                </div>
                                {% empty %}
                                <div class="px-4 py-8 text-center">
                                    <i class="fas fa-bell-slash text-luxury-400 text-2xl mb-2"></i>
                                    <p class="text-sm text-luxury-500">No notifications yet</p>
                                </div>
                                {% endfor %}
                            </div>
                            
                            <div class="px-4 py-3 border-t border-luxury-200">
                                <a href="{% url 'notifications:list' %}" class="text-sm text-royal-600 hover:text-royal-700 font-medium">View all notifications</a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- User Profile Dropdown -->
                    <div class="relative" x-data="{ open: false }">
                        <button @click="open = !open" class="flex items-center space-x-3 bg-white/10 rounded-2xl px-4 py-2 backdrop-blur-sm hover:bg-white/20 transition-colors">
                            <div class="relative">
                                {% if user.profile_image %}
                                    <img src="{{ user.profile_image.url }}" alt="Profile" class="w-10 h-10 rounded-xl object-cover">
                                {% else %}
                                    <div class="w-10 h-10 bg-gradient-to-r from-royal-400 to-royal-600 rounded-xl flex items-center justify-center text-white font-bold">
                                        {{ user.first_name.0|default:user.email.0|upper }}
                                    </div>
                                {% endif %}
                                <div class="absolute -bottom-1 -right-1 w-4 h-4 bg-green-400 rounded-full border-2 border-white"></div>
                            </div>
                            <div class="hidden sm:block">
                                <p class="text-sm font-semibold text-luxury-800">{{ user.get_full_name|default:user.email }}</p>
                                <p class="text-xs text-luxury-600">
                                    {% if user.is_superuser %}Super Admin{% elif user.role == 'Owner' %}Hotel Owner{% elif user.role == 'Receptionist' %}Receptionist/Front Desk{% elif user.role == 'Housekeeping' %}Housekeeping Staff{% elif user.role == 'Maintenance' %}Maintenance Staff{% elif user.role == 'Accountant' %}Accountant{% elif user.role == 'Manager' %}Manager{% else %}{{ user.role }}{% endif %}
                                </p>
                            </div>
                            <i class="fas fa-chevron-down text-luxury-600 transition-transform" :class="{ 'rotate-180': open }"></i>
                        </button>
                        
                        <!-- Dropdown Menu -->
                        <div x-show="open" @click.away="open = false" x-transition:enter="transition ease-out duration-200" x-transition:enter-start="opacity-0 scale-95" x-transition:enter-end="opacity-100 scale-100" x-transition:leave="transition ease-in duration-75" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-95" class="absolute right-0 mt-2 w-48 bg-white rounded-2xl luxury-shadow py-2 z-50">
                            <a href="{% url 'accounts:profile' %}" class="flex items-center px-4 py-3 text-luxury-700 hover:bg-luxury-50 transition-colors">
                                <i class="fas fa-user mr-3 text-luxury-500"></i>
                                Profile
                            </a>
                            <div class="border-t border-luxury-200 my-2"></div>
                            <a href="{% url 'accounts:logout' %}" class="flex items-center px-4 py-3 text-red-600 hover:bg-red-50 transition-colors">
                                <i class="fas fa-sign-out-alt mr-3"></i>
                                Logout
                            </a>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-20 min-h-screen">
        <!-- Page Header -->
        <div class="bg-gradient-to-r from-royal-600 via-royal-700 to-luxury-800 relative overflow-hidden">
            <div class="absolute inset-0 bg-black/20"></div>
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent"></div>
            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
                <div class="text-center">
                    <h1 class="text-4xl md:text-6xl font-bold text-white mb-4 animate-fade-in">
                        {% block page_title %}
                            {% if page_contents.super_admin_dashboard and request.resolver_match.url_name == 'super_admin_dashboard' %}
                                {{ page_contents.super_admin_dashboard.page_title }}
                            {% elif page_contents.owner_dashboard and request.resolver_match.url_name == 'owner_dashboard' %}
                                {{ page_contents.owner_dashboard.page_title }}
                            {% elif page_contents.employee_dashboard and request.resolver_match.url_name == 'employee_dashboard' %}
                                {{ page_contents.employee_dashboard.page_title }}
                            {% elif page_contents.profile and request.resolver_match.url_name == 'profile' %}
                                {{ page_contents.profile.page_title }}
                            {% elif page_contents.about and request.resolver_match.url_name == 'about_page' %}
                                {{ page_contents.about.page_title }}
                            {% elif page_contents.landing and request.resolver_match.url_name == 'landing_page' %}
                                {{ page_contents.landing.page_title }}
                            {% elif page_contents.login and request.resolver_match.url_name == 'custom_login' %}
                                {{ page_contents.login.page_title }}
                            {% else %}
                                Welcome to AuraStay
                            {% endif %}
                        {% endblock %}
                    </h1>
                    <p class="text-xl text-royal-100 max-w-2xl mx-auto animate-fade-in">
                        {% block page_subtitle %}
                            {% if page_contents.super_admin_dashboard and request.resolver_match.url_name == 'super_admin_dashboard' %}
                                {{ page_contents.super_admin_dashboard.page_subtitle }}
                            {% elif page_contents.owner_dashboard and request.resolver_match.url_name == 'owner_dashboard' %}
                                {{ page_contents.owner_dashboard.page_subtitle }}
                            {% elif page_contents.employee_dashboard and request.resolver_match.url_name == 'employee_dashboard' %}
                                {{ page_contents.employee_dashboard.page_subtitle }}
                            {% elif page_contents.profile and request.resolver_match.url_name == 'profile' %}
                                {{ page_contents.profile.page_subtitle }}
                            {% elif page_contents.about and request.resolver_match.url_name == 'about_page' %}
                                {{ page_contents.about.page_subtitle }}
                            {% elif page_contents.landing and request.resolver_match.url_name == 'landing_page' %}
                                {{ page_contents.landing.page_subtitle }}
                            {% elif page_contents.login and request.resolver_match.url_name == 'custom_login' %}
                                {{ page_contents.login.page_subtitle }}
                            {% else %}
                                Experience the future of hotel management with our premium platform
                            {% endif %}
                        {% endblock %}
                    </p>
                    
                    <!-- Extra Navigation -->
                    {% block extra_nav %}
                    {% endblock %}
                </div>
            </div>
            <!-- Decorative Elements -->
            <div class="absolute top-0 left-0 w-full h-full overflow-hidden">
                <div class="absolute top-10 left-10 w-20 h-20 bg-gold-400/20 rounded-full animate-bounce-gentle"></div>
                <div class="absolute top-32 right-20 w-16 h-16 bg-white/10 rounded-full animate-pulse-slow"></div>
                <div class="absolute bottom-10 left-1/4 w-12 h-12 bg-royal-300/20 rounded-full animate-bounce-gentle" style="animation-delay: 1s;"></div>
            </div>
        </div>

        <!-- Messages -->
        {% if messages %}
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            {% for message in messages %}
            <div class="mb-4 rounded-2xl p-6 animate-slide-up {% if message.tags == 'error' %}bg-red-50 border-l-4 border-red-400{% elif message.tags == 'warning' %}bg-yellow-50 border-l-4 border-yellow-400{% else %}bg-green-50 border-l-4 border-green-400{% endif %} luxury-shadow">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center {% if message.tags == 'error' %}bg-red-100{% elif message.tags == 'warning' %}bg-yellow-100{% else %}bg-green-100{% endif %}">
                            <i class="fas {% if message.tags == 'error' %}fa-exclamation-triangle text-red-600{% elif message.tags == 'warning' %}fa-exclamation-circle text-yellow-600{% else %}fa-check-circle text-green-600{% endif %}"></i>
                        </div>
                    </div>
                    <div class="ml-4">
                        <p class="text-lg font-semibold {% if message.tags == 'error' %}text-red-800{% elif message.tags == 'warning' %}text-yellow-800{% else %}text-green-800{% endif %}">
                            {{ message }}
                        </p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Page Content -->
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            {% block content %}
            {% endblock %}
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gradient-to-r from-luxury-800 to-luxury-900 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="col-span-1 md:col-span-2">
                    <a href="{% url 'accounts:landing' %}" class="flex items-center space-x-3 mb-4 hover:opacity-80 transition-opacity">
                        {% if footer.company_logo %}
                            <img src="{{ footer.company_logo.url }}" alt="{{ footer.company_name }} Logo" class="w-40 h-40 object-contain">
                        {% else %}
                            <img src="{% static 'images/logo/aurastay-logo.png' %}" alt="{{ footer.company_name|default:'AuraStay' }} Logo" class="w-40 h-40 object-contain">
                        {% endif %}
                    </a>
                    <p class="text-luxury-300 mb-4">{{ footer.company_description|default:'The world\'s most advanced hotel management platform, designed for luxury hospitality.' }}</p>
                    <div class="flex space-x-4">
                        {% if footer.twitter_url %}
                        <a href="{{ footer.twitter_url }}" class="w-10 h-10 bg-luxury-700 rounded-xl flex items-center justify-center hover:bg-royal-600 transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        {% endif %}
                        {% if footer.linkedin_url %}
                        <a href="{{ footer.linkedin_url }}" class="w-10 h-10 bg-luxury-700 rounded-xl flex items-center justify-center hover:bg-royal-600 transition-colors">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        {% endif %}
                        {% if footer.instagram_url %}
                        <a href="{{ footer.instagram_url }}" class="w-10 h-10 bg-luxury-700 rounded-xl flex items-center justify-center hover:bg-royal-600 transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        {% endif %}
                        {% if footer.facebook_url %}
                        <a href="{{ footer.facebook_url }}" class="w-10 h-10 bg-luxury-700 rounded-xl flex items-center justify-center hover:bg-royal-600 transition-colors">
                            <i class="fab fa-facebook"></i>
                        </a>
                        {% endif %}
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Company</h4>
                    <ul class="space-y-2 text-luxury-300">
                        <li><a href="{% url 'accounts:about' %}" class="hover:text-white transition-colors">About Us</a></li>
                        <li><a href="{% url 'accounts:privacy_policy' %}" class="hover:text-white transition-colors">Privacy Policy</a></li>
                        <li><a href="{% url 'accounts:terms_of_service' %}" class="hover:text-white transition-colors">Terms of Service</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact</h4>
                    <ul class="space-y-2 text-luxury-300">
                        <li><span class="text-luxury-300">Email: {{ footer.email|default:'info@aurastay.com' }}</span></li>
                        <li><span class="text-luxury-300">Phone: {{ footer.phone|default:'+1 (555) 123-4567' }}</span></li>
                        <li><span class="text-luxury-300">{{ footer.address_line1|default:'123 Business Ave' }}</span></li>
                        <li><span class="text-luxury-300">{{ footer.address_line2|default:'New York, NY 10001' }}</span></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-luxury-700 mt-8 pt-8 text-center">
                <p class="text-luxury-400">{{ footer.copyright_line1|default:' 2025 AuraStay. All rights reserved.' }}</p>
                <p class="text-luxury-500 text-sm mt-1">{{ footer.copyright_line2|default:'Design: MA Qureshi | Development: Momin Ali' }}</p>
            </div>
        </div>
    </footer>



    <!-- Beautiful Modal Component -->
    <div id="beautifulModal" class="fixed inset-0 z-50 hidden">
        <!-- Backdrop -->
        <div class="fixed inset-0 bg-black/50 backdrop-blur-sm transition-opacity" onclick="closeModal()"></div>
        
        <!-- Modal -->
        <div class="fixed inset-0 flex items-center justify-center p-4">
            <div class="bg-white rounded-3xl luxury-shadow max-w-md w-full transform transition-all scale-95 opacity-0" id="modalContent">
                <!-- Header -->
                <div class="p-6 border-b border-luxury-200">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <div class="w-12 h-12 rounded-2xl flex items-center justify-center" id="modalIcon">
                                <i class="text-2xl" id="modalIconClass"></i>
                            </div>
                            <h3 class="text-xl font-bold text-luxury-800" id="modalTitle">Confirm Action</h3>
                        </div>
                        <button onclick="closeModal()" class="text-luxury-400 hover:text-luxury-600 transition-colors">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Body -->
                <div class="p-6">
                    <p class="text-luxury-600 leading-relaxed" id="modalMessage">Are you sure you want to proceed?</p>
                </div>
                
                <!-- Footer -->
                <div class="p-6 border-t border-luxury-200 flex space-x-3" id="modalFooter">
                    <button onclick="closeModal()" class="flex-1 px-4 py-3 bg-luxury-100 hover:bg-luxury-200 text-luxury-700 rounded-2xl font-semibold transition-colors">
                        Cancel
                    </button>
                    <button onclick="confirmAction()" class="flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-2xl font-semibold transition-colors" id="confirmBtn">
                        Confirm
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Include upgrade modal for authenticated users -->
    {% if user.is_authenticated %}
    {% include 'modals/upgrade_modal.html' %}
    {% endif %}

    <script>
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
    
    function markAsRead(notificationId) {
        fetch(`/notifications/mark-read/${notificationId}/`, {
            method: 'POST',
            headers: {
                'X-CSRFToken': getCookie('csrftoken'),
                'Content-Type': 'application/json',
            },
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                location.reload();
            }
        })
        .catch(error => console.error('Error:', error));
    }
    
    // Beautiful Modal Functions
    let modalCallback = null;
    
    function showModal(options = {}) {
        const modal = document.getElementById('beautifulModal');
        const modalContent = document.getElementById('modalContent');
        const modalIcon = document.getElementById('modalIcon');
        const modalIconClass = document.getElementById('modalIconClass');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const confirmBtn = document.getElementById('confirmBtn');
        
        // Set modal content
        modalTitle.textContent = options.title || 'Confirm Action';
        modalMessage.textContent = options.message || 'Are you sure you want to proceed?';
        
        // Set icon and colors based on type
        const type = options.type || 'warning';
        if (type === 'danger' || type === 'delete') {
            modalIcon.className = 'w-12 h-12 bg-red-100 rounded-2xl flex items-center justify-center';
            modalIconClass.className = 'fas fa-trash text-2xl text-red-600';
            confirmBtn.className = 'flex-1 px-4 py-3 bg-red-600 hover:bg-red-700 text-white rounded-2xl font-semibold transition-colors';
            confirmBtn.textContent = options.confirmText || 'Delete';
        } else if (type === 'warning') {
            modalIcon.className = 'w-12 h-12 bg-yellow-100 rounded-2xl flex items-center justify-center';
            modalIconClass.className = 'fas fa-exclamation-triangle text-2xl text-yellow-600';
            confirmBtn.className = 'flex-1 px-4 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-2xl font-semibold transition-colors';
            confirmBtn.textContent = options.confirmText || 'Confirm';
        } else if (type === 'success') {
            modalIcon.className = 'w-12 h-12 bg-green-100 rounded-2xl flex items-center justify-center';
            modalIconClass.className = 'fas fa-check text-2xl text-green-600';
            confirmBtn.className = 'flex-1 px-4 py-3 bg-green-600 hover:bg-green-700 text-white rounded-2xl font-semibold transition-colors';
            confirmBtn.textContent = options.confirmText || 'OK';
        } else {
            modalIcon.className = 'w-12 h-12 bg-blue-100 rounded-2xl flex items-center justify-center';
            modalIconClass.className = 'fas fa-info text-2xl text-blue-600';
            confirmBtn.className = 'flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-2xl font-semibold transition-colors';
            confirmBtn.textContent = options.confirmText || 'OK';
        }
        
        // Store callback
        modalCallback = options.onConfirm || null;
        
        // Show modal with animation
        modal.classList.remove('hidden');
        setTimeout(() => {
            modalContent.classList.remove('scale-95', 'opacity-0');
            modalContent.classList.add('scale-100', 'opacity-100');
        }, 10);
    }
    
    function closeModal() {
        const modal = document.getElementById('beautifulModal');
        const modalContent = document.getElementById('modalContent');
        
        modalContent.classList.remove('scale-100', 'opacity-100');
        modalContent.classList.add('scale-95', 'opacity-0');
        
        setTimeout(() => {
            modal.classList.add('hidden');
            modalCallback = null;
        }, 200);
    }
    
    function confirmAction() {
        if (modalCallback) {
            modalCallback();
        }
        closeModal();
    }
    
    // Delete confirmation function
    function showDeleteConfirm(event, itemName, deleteUrl) {
        event.preventDefault();
        showModal({
            title: 'Delete Confirmation',
            message: `Are you sure you want to delete "${itemName}"? This action cannot be undone.`,
            type: 'danger',
            confirmText: 'Delete',
            onConfirm: () => {
                window.location.href = deleteUrl;
            }
        });
    }
    
    // Delete modal function (used in templates)
    function showDeleteModal(itemId, itemName, deleteUrl) {
        showModal({
            title: 'Delete Confirmation',
            message: `Are you sure you want to delete "${itemName}"? This action cannot be undone.`,
            type: 'danger',
            confirmText: 'Delete',
            onConfirm: () => {
                window.location.href = deleteUrl;
            }
        });
    }
    </script>
</body>
</html>