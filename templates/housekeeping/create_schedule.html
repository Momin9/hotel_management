{% extends 'base_luxury.html' %}

{% block title %}Create Schedule{% endblock %}

{% block page_title %}Create Housekeeping Schedule{% endblock %}
{% block page_subtitle %}Assign housekeeping staff to rooms and shifts{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-2xl luxury-shadow p-8">
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <!-- Staff Selection -->
            <div>
                <label class="block text-sm font-semibold text-luxury-700 mb-2">Housekeeping Staff</label>
                <select name="staff" required class="w-full px-4 py-3 border border-luxury-300 rounded-xl focus:ring-2 focus:ring-royal-500 focus:border-transparent">
                    <option value="">Select Staff Member</option>
                    {% for staff in staff_list %}
                    <option value="{{ staff.user_id }}">{{ staff.get_full_name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <!-- Date -->
            <div>
                <label class="block text-sm font-semibold text-luxury-700 mb-2">Date</label>
                <input type="date" name="date" required class="w-full px-4 py-3 border border-luxury-300 rounded-xl focus:ring-2 focus:ring-royal-500 focus:border-transparent">
            </div>
            
            <!-- Shift -->
            <div>
                <label class="block text-sm font-semibold text-luxury-700 mb-2">Shift</label>
                <select name="shift" required class="w-full px-4 py-3 border border-luxury-300 rounded-xl focus:ring-2 focus:ring-royal-500 focus:border-transparent">
                    <option value="">Select Shift</option>
                    {% for value, label in shift_choices %}
                    <option value="{{ value }}">{{ label }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <!-- Rooms -->
            <div>
                <label class="block text-sm font-semibold text-luxury-700 mb-2">Assign Rooms (Optional)</label>
                <div class="max-h-48 overflow-y-auto border border-luxury-300 rounded-xl p-4 space-y-2">
                    {% for room in rooms %}
                    <label class="flex items-center space-x-3">
                        <input type="checkbox" name="rooms" value="{{ room.room_id }}" class="rounded border-luxury-300 text-royal-600 focus:ring-royal-500">
                        <span class="text-luxury-700">Room {{ room.room_number }} 
                            {% if room.room_type %}({{ room.room_type.name }}){% endif %}
                        </span>
                    </label>
                    {% endfor %}
                </div>
            </div>
            
            <!-- Notes -->
            <div>
                <label class="block text-sm font-semibold text-luxury-700 mb-2">Notes</label>
                <textarea name="notes" rows="3" class="w-full px-4 py-3 border border-luxury-300 rounded-xl focus:ring-2 focus:ring-royal-500 focus:border-transparent" placeholder="Additional notes or instructions..."></textarea>
            </div>
            
            <!-- Actions -->
            <div class="flex space-x-4">
                <button type="submit" class="flex-1 bg-gradient-to-r from-royal-500 to-royal-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-royal-600 hover:to-royal-700 transition-all duration-300 shadow-lg hover:shadow-xl">
                    Create Schedule
                </button>
                <a href="{% url 'housekeeping:schedule_list' %}" class="flex-1 bg-luxury-100 text-luxury-700 px-6 py-3 rounded-xl font-semibold hover:bg-luxury-200 transition-colors text-center">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}