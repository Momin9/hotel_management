{% extends 'base_luxury.html' %}

{% block title %}Mark Invoice as Paid - AuraStay{% endblock %}
{% block page_title %}Mark Invoice as Paid{% endblock %}
{% block page_subtitle %}Invoice #{{ invoice.invoice_number }} - {{ invoice.guest.full_name }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-3xl p-8 luxury-shadow">
        <!-- Invoice Summary -->
        <div class="mb-6 p-6 bg-luxury-50 rounded-xl">
            <h3 class="text-lg font-semibold text-luxury-800 mb-4">Invoice Summary</h3>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <p class="text-sm text-luxury-600">Invoice Number</p>
                    <p class="font-semibold">#{{ invoice.invoice_number }}</p>
                </div>
                <div>
                    <p class="text-sm text-luxury-600">Guest</p>
                    <p class="font-semibold">{{ invoice.guest.full_name }}</p>
                </div>
                <div>
                    <p class="text-sm text-luxury-600">Total Amount</p>
                    <p class="font-semibold text-royal-600 text-lg">{{ invoice.currency }} {{ invoice.total_amount }}</p>
                </div>
                <div>
                    <p class="text-sm text-luxury-600">Current Status</p>
                    <p class="font-semibold">{{ invoice.status|title }}</p>
                </div>
            </div>
        </div>

        <!-- Payment Form -->
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <div>
                <label class="block text-sm font-medium text-luxury-700 mb-2">Payment Method</label>
                <select name="payment_method" required
                        class="w-full px-4 py-3 border border-luxury-300 rounded-xl focus:ring-2 focus:ring-royal-500 focus:border-transparent">
                    <option value="cash">Cash</option>
                    <option value="credit_card">Credit Card</option>
                    <option value="debit_card">Debit Card</option>
                    <option value="bank_transfer">Bank Transfer</option>
                    <option value="check">Check</option>
                    <option value="other">Other</option>
                </select>
            </div>

            <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-4">
                <div class="flex items-start">
                    <i class="fas fa-exclamation-triangle text-yellow-500 mr-3 mt-1"></i>
                    <div>
                        <h4 class="font-semibold text-yellow-800">Confirm Payment</h4>
                        <p class="text-yellow-700 text-sm mt-1">
                            This action will mark the invoice as paid and create a payment record. 
                            Make sure you have received the payment before proceeding.
                        </p>
                    </div>
                </div>
            </div>

            <div class="flex space-x-4">
                <button type="submit" class="bg-green-500 text-white px-6 py-3 rounded-xl hover:bg-green-600 transition-colors">
                    <i class="fas fa-check-circle mr-2"></i>Mark as Paid
                </button>
                <a href="{% url 'billing:invoice_detail' invoice.id %}" class="bg-gray-500 text-white px-6 py-3 rounded-xl hover:bg-gray-600 transition-colors">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>

<style>
.luxury-shadow {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
}
</style>
{% endblock %}